

<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">



<!-- begin SEO -->









<title>A guide to connecting VSCode to a remote cluster - Yichen Han / Home Page</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Yichen Han / Home Page">
<meta property="og:title" content="A guide to connecting VSCode to a remote cluster">


  <link rel="canonical" href="https://yc-han.github.io/posts/2025/05/blog-post-vsccluster/">
  <meta property="og:url" content="https://yc-han.github.io/posts/2025/05/blog-post-vsccluster/">



  <meta property="og:description" name="description" content="Working on a remote cluster is a common task in many scientific fields. Here, I will show how to connect VSCode to a remote cluster. I take the LRZ cluster as an example.">





  

  





  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2025-05-09T00:00:00+00:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Yichen Han",
      "url" : "https://yc-han.github.io",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="https://yc-han.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Yichen Han / Home Page Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="https://yc-han.github.io/assets/css/main.css">

<meta http-equiv="cleartype" content="on">
    

<!-- start custom head snippets -->

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link rel="apple-touch-icon" sizes="180x180" href="https://yc-han.github.io/images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="https://yc-han.github.io/images/favicon.svg"/>
<link rel="icon" type="image/png" href="https://yc-han.github.io/images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="https://yc-han.github.io/images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="https://yc-han.github.io/images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/>
<link rel="stylesheet" href="https://yc-han.github.io/assets/css/academicons.css"/>


<!-- Support for MatJax -->
<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- end custom head snippets -->

    <link rel="stylesheet" href="/assets/css/custom.css">
    
  <!-- optional: redefine inline delimiter to single $ if you insist on it -->
  <script>
    window.MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] } };
  </script>

  <script defer
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
    

  </head>

  <body>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <button><div class="navicon"></div></button>
        <ul class="visible-links">
          <li class="masthead__menu-item masthead__menu-item--lg persist"><a href="https://yc-han.github.io/">Yichen Han / Home Page</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://yc-han.github.io/">About</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://yc-han.github.io/academic/">Academic</a></li>
          
            
            <li class="masthead__menu-item"><a href="https://yc-han.github.io/culture/">Culture</a></li>
          
          <li id="theme-toggle" class="masthead__menu-item persist tail">
            <a><i id="theme-icon" class="fa-solid fa-sun" aria-hidden="true" title="toggle theme"></i></a>
          </li>
        </ul>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    





<div id="main" role="main">
  


  <div class="sidebar sticky">
  



<div itemscope itemtype="http://schema.org/Person">

  <div class="author__avatar">
    
    	<img src="https://yc-han.github.io/images/profile.png" class="author__avatar" alt="Yichen Han">
    
  </div>

  <div class="author__content">
    <h3 class="author__name">Yichen Han</h3>
    
    <p class="author__bio">Statistics and Data Science @ LMU Munich; RA @ HZI & StaBLab</p>
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      <!-- Font Awesome icons / Biographic information  -->
      
        <li class="author__desktop"><i class="fa-solid fa-location-dot icon-pad-right" aria-hidden="true"></i>Munich, Germany</li>
      
      
        <li class="author__desktop"><i class="fas fa-fw fa-building-columns icon-pad-right" aria-hidden="true"></i>LMU Munich</li>
      
      
      
        <li><a href="mailto:yichen.han@campus.lmu.de"><i class="fas fa-fw fa-envelope icon-pad-right" aria-hidden="true"></i>Email</a></li>
      

      <!-- Font Awesome and Academicons icons / Academic websites -->
      
            
      
      
      
      
        <li><a href="https://orcid.org/0009-0008-7018-8949"><i class="ai ai-orcid ai-fw icon-pad-right"></i>ORCID</a></li>
      
                              
      
      

      <!-- Font Awesome icons / Repositories and software development -->
      
            
            
      
        <li><a href="https://github.com/Yc-Han"><i class="fab fa-fw fa-github icon-pad-right" aria-hidden="true"></i>GitHub</a></li>
      
            
            

      <!-- Font Awesome icons / Social media -->
      
      
            
      
                  
                  
      
            
            
      
        <li><a href="https://www.linkedin.com/in/yichen-han-865092258"><i class="fab fa-fw fa-linkedin icon-pad-right" aria-hidden="true"></i>LinkedIn</a></li>
            
      
            
                  
            
      
            
            
      
              
      
                      
      
      
            
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="A guide to connecting VSCode to a remote cluster">
    <meta itemprop="description" content="Working on a remote cluster is a common task in many scientific fields. Here, I will show how to connect VSCode to a remote cluster. I take the LRZ cluster as an example.">
    <meta itemprop="datePublished" content="May 09, 2025">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 class="page__title" itemprop="headline">A guide to connecting VSCode to a remote cluster
</h1>
          
            <p class="page__meta"><i class="fa fa-clock" aria-hidden="true"></i> 


  
	  2 minute read
	
</p>
          
        
        
        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Published:</strong> <time datetime="2025-05-09T00:00:00+00:00">May 09, 2025</time></p>
            
        </header>
      

      <section class="page__content" itemprop="text">
        <p>Working on a remote cluster is a common task in many scientific fields. Here, I will show how to connect VSCode to a remote cluster. I take the <a href="https://doku.lrz.de/access-and-login-to-the-linux-cluster-10745974.html">LRZ cluster</a> as an example.</p>

<p>Suppose your LRZ-username (LRZ-Kennung) is “username”.
Our goal is to connect to LRZ without having to type our password each time.
You cannot avoid 2FA! Everytime you will have to give 2FA.</p>

<ol>
  <li>
    <p>Manually download the extension <a href="hhttps://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-ssh">Remote-SSH</a>. It doesn’t seem to be automatically downloaded although VSCode claims so.</p>
  </li>
  <li>
    <p>Open Windows Powershell with admin rights</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ssh-keygen <span class="nt">-t</span> ed25519 <span class="nt">-C</span> <span class="s2">"username@lrz"</span>
</code></pre></div>    </div>
    <p>(press <code class="language-plaintext highlighter-rouge">&lt;Enter&gt;</code> three times for defaults)</p>

    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="kr">type</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">USERPROFILE</span><span class="n">\.ssh\id_ed25519.pub</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ssh</span><span class="w"> </span><span class="nt">-Y</span><span class="w"> </span><span class="nx">username</span><span class="err">@</span><span class="nx">cool.hpc.lrz.de</span><span class="w"> </span><span class="s2">"umask 077 &amp;&amp; mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys"</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Create a local .ssh config file. Stored in <code class="language-plaintext highlighter-rouge">C:\Users\&lt;WindowsUser&gt;\.ssh\config</code></p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c"># ensure the ~/.ssh directory exists</span>
 <span class="nb">mkdir</span> <span class="nt">-p</span> ~/.ssh

 <span class="c"># write the configuration</span>
 <span class="nb">cat</span> <span class="o">&gt;</span> ~/.ssh/config <span class="o">&lt;&lt;</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
 Host lrz-hpc
     HostName cool.hpc.lrz.de
     Port 2222
     User username
     IdentityFile ~/.ssh/id_ed25519
     IdentitiesOnly yes
     ForwardX11 yes
     ServerAliveInterval 60
</span><span class="no"> EOF

</span> <span class="c"># secure the file</span>
 <span class="nb">chmod </span>600 ~/.ssh/config
</code></pre></div>    </div>
  </li>
  <li>
    <p>Enable the Windows SSH agent (optional but convenient)</p>

    <div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="n">Set-Service</span><span class="w"> </span><span class="nx">ssh-agent</span><span class="w"> </span><span class="nt">-StartupType</span><span class="w"> </span><span class="nx">Automatic</span><span class="w">
 </span><span class="n">Start-Service</span><span class="w"> </span><span class="nx">ssh-agent</span><span class="w">
 </span><span class="n">ssh-add</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">USERPROFILE</span><span class="nx">\.ssh\id_ed25519</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>
    <p><strong>In VSCode:</strong>
 <code class="language-plaintext highlighter-rouge">Ctrl + Shift + P</code> → <code class="language-plaintext highlighter-rouge">Remote-SSH: Add New SSH Host…</code>
 Enter: <code class="language-plaintext highlighter-rouge">ssh lrz-hpc</code>
 The first connection installs the VS Code Server in <code class="language-plaintext highlighter-rouge">$HOME/.vscode-server/</code> on the cluster and takes long.
 Enter passwords or 2FA when prompted.</p>
  </li>
  <li>
    <p><strong>Note:</strong> You get logged in to the login node, and heavy computation is prohibited there! If you hit the “Run python code” button, the code will be executed in the current terminal, i.e. login node. You need to start an interactive session each time.</p>
  </li>
  <li>Configure your <code class="language-plaintext highlighter-rouge">.vscode</code> folder so that you get an interactive session easily.
 <strong>In <code class="language-plaintext highlighter-rouge">.vscode/launch.json</code>:</strong>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2.0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
         </span><span class="p">{</span><span class="w">
             </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Python on compute node"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"python"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launch"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${file}"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"console"</span><span class="p">:</span><span class="w"> </span><span class="s2">"integratedTerminal"</span><span class="p">,</span><span class="w">
             </span><span class="nl">"preLaunchTask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"slurm-srun"</span><span class="w">
           </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
    <p><strong>In <code class="language-plaintext highlighter-rouge">.vscode/tasks.json</code>:</strong></p>
    <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0.0"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"slurm-srun"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shell"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"if [[ -z $SLURM_JOB_ID ]]; then srun -M inter -p cm4_inter -n 1 -c 4 --mem=32G -t 03:00:00 --pty bash -l; fi"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"problemMatcher"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span></code></pre></div>    </div>
    <p><em>Modify the parameters in the <code class="language-plaintext highlighter-rouge">slurm-srun</code> task command as you need!</em></p>
  </li>
  <li>To use, i.e. to start an interactive session, press <code class="language-plaintext highlighter-rouge">Ctrl + F5</code></li>
</ol>



        

        
      </section>

      <footer class="page__meta">
        
        


  




  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="https://yc-han.github.io/tags/#cluster" class="page__taxonomy-item" rel="tag">Cluster</a><span class="sep">, </span>
    
      
      
      <a href="https://yc-han.github.io/tags/#computing" class="page__taxonomy-item" rel="tag">Computing</a>
    
    </span>
  </p>




      </footer>

      

<section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://bsky.app/intent/compose?text=https://yc-han.github.io/posts/2025/05/blog-post-vsccluster/" class="btn btn--bluesky" title="Share on Bluesky"><i class="fab fa-bluesky" aria-hidden="true"></i><span> Bluesky</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https://yc-han.github.io/posts/2025/05/blog-post-vsccluster/" class="btn btn--facebook" title="Share on Facebook"><i class="fab fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://yc-han.github.io/posts/2025/05/blog-post-vsccluster/" class="btn btn--linkedin" title="Share on LinkedIn"><i class="fab fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>

  <a href="https://x.com/intent/post?text=https://yc-han.github.io/posts/2025/05/blog-post-vsccluster/" class="btn btn--x" title="Share on X"><i class="fab fa-x-twitter" aria-hidden="true"></i><span> X (formerly Twitter)</span></a>
</section>


      


    </div>

    
  </article>

  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<a href="/sitemap/">Sitemap</a>
<!-- end custom footer snippets -->

        


<div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    
    
      <li><a href="http://github.com/Yc-Han"><i class="fab fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
    
    <li><a href="https://yc-han.github.io/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">
  &copy; 2025 Yichen Han, Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://github.com/academicpages/academicpages.github.io">AcademicPages</a>, a fork of <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.<br />
  Site last updated 2025-08-09
</div>

      </footer>
    </div>

    <script src="https://yc-han.github.io/assets/js/main.min.js"></script>








  </body>
</html>

